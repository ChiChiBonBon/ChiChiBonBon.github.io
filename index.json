[{"categories":["æŠ€è¡“æœ­è¨˜"],"contents":"HTTPå”è­° è¦å®šè³‡æ–™å‚³è¼¸æ ¼å¼ï¼Œä»¥ä¾¿å‰å¾Œç«¯å¯æºé€š å€åˆ†Requestå’ŒResponseå…©ç¨® HTTP Request Http Method URL Request Head Request Body HTTP Response Http Status Code Response Head Response Body URLæ ¼å¼ http//localhost:8080/test å”è­°(http//) åŸŸå(localhost) åŸ è™Ÿ(:8080) è·¯å¾‘(/test) @RequestMapping ç”¨æ³•:åŠ ä¸Šclassæˆ–æ–¹æ³•ä¸Šï¼Œæ‹¬è™Ÿä¸­å¡«å¯«åŸŸå ç”¨é€”:æ§åˆ¶å™¨å°è·¯å¾‘ï¼ŒåŸ·è¡Œå°æ‡‰çš„æ–¹æ³• è¦é»:ä½¿ç”¨æ™‚ä¸€å®šè¦åŠ @RestControlleræˆ–@Controllerï¼Œæ‹¬è™Ÿä¸­ä¸åŒ…å«åŸŸå @RestController @RequestMapping(\u0026#34;/detail\u0026#34;) public class MyController{ @RequestMapping(\u0026#34;/test\u0026#34;) public String test(){ System.out.println(\u0026#34;test\u0026#34;); return \u0026#34;Sucess\u0026#34;; } } Controller/RestController ç”¨æ³•:åŠ åœ¨classä¸Š ç”¨é€”:ç”Ÿæˆæ§åˆ¶å™¨ï¼Œå¯è¦–ç‚º@Componentçš„åŠ å¼·ç‰ˆ @RestController public class MyController{ //...do something } JSON JSONæ˜¯ä¸€ç¨®è¼•é‡ç´šè³‡æ–™äº¤æ›æ ¼å¼ ç”¨é€”:çµæ§‹åŒ–å‘ˆç¾æ•¸æ“š Valueå€¼çš„é¡å‹:1. æ•´æ•¸ 2. æµ®é»æ•¸ 3. å­—ä¸² 4.å¸ƒæ—å€¼ { \u0026#34;Integer\u0026#34;:10, \u0026#34;Float\u0026#34;:99.9, \u0026#34;String\u0026#34;:\u0026#34;Hello\u0026#34;, \u0026#34;Boolean\u0026#34;:true } Controllerå’ŒRestControllerçš„å·®åˆ¥ @Controller public class MyController{ @ResponseBody @RequestMapping(\u0026#34;/test\u0026#34;) public Ojbect test(){ Object obj = new object; return obj; } } @RestController public class MyController{ @RequestMapping(\u0026#34;/test\u0026#34;) public Object test(){ Object obj = new object; return obj; } } HTTP Method GET:é¡ä¼¼æ˜ä¿¡ç‰‡ï¼Œå‚³éçš„åƒæ•¸æœƒè¢«çœ‹è¦‹ POST:é¡ä¼¼ä¿¡å°ï¼Œå‚³éçš„åƒæ•¸ä¸æœƒè¢«çœ‹è¦‹ @RequestParam ç”¨æ³•:åªèƒ½åŠ åœ¨åƒæ•¸ä¸Š ç”¨é€”:å¾URLä¸­æŠ“å–å€¼ åƒæ•¸è¨­å®š:nameã€Requiredã€defaultValue http://localhost:8080/test?sn=6688\n@RestController public class MyController{ @RequestMapping(\u0026#34;/test\u0026#34;) public Integer test(@RequestParam(name=\u0026#34;sn\u0026#34;,defaultValue=\u0026#34;0\u0026#34;,Required=\u0026#34;true\u0026#34;) Intgeer id){ return id; } } @RequestBody ç”¨æ³•:åªèƒ½åŠ åœ¨åƒæ•¸ä¸Š ç”¨é€”:POSTæ–¹æ³•ä¸­æŠ“å–ReuestBodyä¸­çš„JSON, ä¸¦è½‰æˆJava Object è¦é»:ReuestBodyä¸­å¤šå¸¶å€¼ï¼ŒSpring Bootæœƒå¿½ç•¥ï¼ŒRequestBodyå°‘å¸¶å€¼ï¼Œå€¼æœƒæ˜¯Null POST Method:http://localhost:8080/test RequestBody: { \u0026#34;id\u0026#34;:123, \u0026#34;name\u0026#34;:\u0026#34;Jason\u0026#34; } @RestController public class MyController{ @RequestMapping(\u0026#34;/test\u0026#34;) public Student test(@RequestBody Studnet student){ return student; } } public class student{ private Integer id; private String name; //...getter and setter } @RequestHeader ç”¨æ³•:åªèƒ½åŠ åœ¨åƒæ•¸ä¸Š ç”¨é€”:å–å¾—RequestHeaderçš„åƒæ•¸ åƒæ•¸è¨­å®š:nameã€defaultValueã€Required public class MyController{ @RequestMapping(\u0026#34;/test\u0026#34;) public String test(@RequestHeader(name = \u0026#34;Content-Type\u0026#34;,defaultValue = \u0026#34;application/json\u0026#34;,Required = \u0026#34;true\u0026#34;) String contentType){ System.out.println(\u0026#34;Content-Type:\u0026#34; + contentType); return contentType; } } @PathVariable ç”¨æ³•:åªèƒ½åŠ åœ¨æ–¹æ³•åƒæ•¸ä¸Š ç”¨é€”:å–å¾—URLè·¯å¾‘ä¸­çš„å€¼ @RestController public class MyController{ @ReqeustMapping(\u0026#34;/post/{id}\u0026#34;) public String post(@PathVariable Integer id){ System.out.println(\u0026#34;PathVarialbe:\u0026#34; + id); return id; } } @PathVariable èˆ‡ @RequestParamçš„å·®åˆ¥ ç‰¹æ€§ @PathVariable @RequestParam ä¼ å‚æ–¹å¼ URL è·¯å¾„ä¸­çš„å‚æ•° URL æŸ¥è¯¢å‚æ•° (Query Parameter) å¸¸è§è¯·æ±‚æ–¹æ³• ä¸»è¦ç”¨äº GETï¼Œä¹Ÿå¯ç”¨äº POST, PUT, DELETE ä¸»è¦ç”¨äº GETï¼Œä¹Ÿå¯ç”¨äº POST RESTful é£æ ¼ âœ… éå¸¸é€‚åˆ RESTful APIï¼ˆèµ„æºè·¯å¾„æ ‡è¯†ï¼‰ âŒ ä¸€èˆ¬ç”¨äºè¿‡æ»¤ã€æ’åºã€åˆ†é¡µç­‰éèµ„æºæ ‡è¯† å‚æ•°æ˜¯å¦å¯é€‰ é€šå¸¸æ˜¯å¿…é¡»çš„ï¼ˆå› ä¸ºæ˜¯è·¯å¾„çš„ä¸€éƒ¨åˆ†ï¼‰ æ”¯æŒå¯é€‰å‚æ•°å’Œé»˜è®¤å€¼ è¯·æ±‚ç¤ºä¾‹ /user/123 /user?id=123\u0026amp;sort=asc ä½¿ç”¨åœºæ™¯ èµ„æºæ ‡è¯†ï¼Œä¾‹å¦‚è·å–/ä¿®æ”¹ç‰¹å®š ID çš„å¯¹è±¡ è¿‡æ»¤ã€åˆ†é¡µã€æœç´¢ã€æ’åºç­‰æŸ¥è¯¢å‚æ•° Restful API ç‰¹é»:Getã€Deleteæ²’æœ‰RequestBodyï¼Œè€ŒPostã€Putæœ‰RequestBody Spring Bootåƒæ•¸é©—è­‰ Validå’ŒValidatedçš„ä½¿ç”¨å·®åˆ¥ @Valid é€‚ç”¨äº @RequestBody @Valid æ˜¯ Java Bean Validationï¼ˆJSR-303/JSR-380 è§„èŒƒï¼‰çš„ä¸€éƒ¨åˆ†ï¼Œé€šå¸¸ç”¨äº å¯¹è±¡ çš„éªŒè¯ï¼Œé€‚ç”¨äº @RequestBody è§£æçš„ JSON æˆ– XMLã€‚ ä¸ºä»€ä¹ˆ @Valid é€‚ç”¨äº @RequestBodyï¼Ÿ @RequestBody ç”¨äºæ¥æ”¶ JSON æˆ– XML å¹¶è½¬æ¢æˆ Java å¯¹è±¡ã€‚ @Valid ä¼šåœ¨ å¯¹è±¡ç»‘å®šåˆ° Java Bean ä¹‹å è¿›è¡ŒéªŒè¯ã€‚ é€‚ç”¨äº DTOï¼ˆData Transfer Objectï¼‰ï¼Œå³è¯·æ±‚ä½“æ˜¯ Java å¯¹è±¡ã€‚\n@RestController @RequestMapping(\u0026#34;/users\u0026#34;) public class UserController { @PostMapping(\u0026#34;/create\u0026#34;) public ResponseEntity\u0026lt;String\u0026gt; createUser(@Valid @RequestBody UserDTO userDTO) { return ResponseEntity.ok(\u0026#34;User created successfully!\u0026#34;); } } DTO ç±»\npublic class UserDTO { @NotNull(message = \u0026#34;Username cannot be null\u0026#34;) @Size(min = 3, message = \u0026#34;Username must be at least 3 characters long\u0026#34;) private String username; @Email(message = \u0026#34;Invalid email format\u0026#34;) private String email; // Getters and Setters } ğŸ”¹ è¿™é‡Œ @Valid ä¼šç¡®ä¿ UserDTO ä¸­çš„å­—æ®µç¬¦åˆçº¦æŸæ¡ä»¶ï¼Œå¦åˆ™ Spring ä¼šè¿”å› 400 Bad Requestã€‚\n@Validated é€‚ç”¨äº @RequestParamã€@PathVariableã€@RequestHeader @Validated æ˜¯ Spring æä¾›çš„å¢å¼ºç‰ˆæ ¡éªŒæ³¨è§£ï¼Œæ”¯æŒ å•ä¸ªå‚æ•° åŠ åˆ†ç»„æ ¡éªŒã€‚ ä¸ºä»€ä¹ˆ @Validated é€‚ç”¨äº @RequestParamã€@PathVariableã€@RequestHeaderï¼Ÿ è¿™äº›å‚æ•°é€šå¸¸æ˜¯ åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå¦‚ Stringã€Integerï¼‰ æˆ– å•ä¸ªå€¼ï¼Œè€Œä¸æ˜¯ Java Beanã€‚ @Valid åªèƒ½ç”¨åœ¨ Java Beanï¼Œä¸èƒ½ç”¨äº åŸºæœ¬æ•°æ®ç±»å‹ã€‚ @Validated é€‚ç”¨äº æ–¹æ³•å‚æ•°çº§åˆ«ï¼ŒåŒ…æ‹¬åŸºæœ¬æ•°æ®ç±»å‹çš„æ ¡éªŒã€‚\n@RestController @RequestMapping(\u0026#34;/users\u0026#34;) @Validated // éœ€è¦åŠ åœ¨ç±»ä¸Šï¼Œæˆ–è€…æ–¹æ³•å‚æ•°å‰ public class UserController { @GetMapping(\u0026#34;/{id}\u0026#34;) public ResponseEntity\u0026lt;String\u0026gt; getUser( @PathVariable @Min(value = 1, message = \u0026#34;ID must be greater than 0\u0026#34;) Long id) { return ResponseEntity.ok(\u0026#34;User ID: \u0026#34; + id); } @GetMapping(\u0026#34;/search\u0026#34;) public ResponseEntity\u0026lt;String\u0026gt; searchUser( @RequestParam @NotBlank(message = \u0026#34;Query cannot be blank\u0026#34;) String query) { return ResponseEntity.ok(\u0026#34;Search query: \u0026#34; + query); } @GetMapping(\u0026#34;/header\u0026#34;) public ResponseEntity\u0026lt;String\u0026gt; checkHeader( @RequestHeader(\u0026#34;X-Request-ID\u0026#34;) @NotBlank(message = \u0026#34;Request ID is required\u0026#34;) String requestId) { return ResponseEntity.ok(\u0026#34;Request ID: \u0026#34; + requestId); } } ğŸ”¹ è¿™é‡Œ @Validated å…è®¸å¯¹ è·¯å¾„å‚æ•°ã€æŸ¥è¯¢å‚æ•°ã€è¯·æ±‚å¤´å‚æ•° è¿›è¡Œæ ¡éªŒã€‚\n@Validated è¿˜èƒ½æ”¯æŒåˆ†ç»„æ ¡éªŒ å¦‚æœéœ€è¦ æ ¹æ®ä¸åŒæƒ…å†µ è¿›è¡Œä¸åŒçš„æ ¡éªŒï¼Œ@Validated æä¾›äº† åˆ†ç»„æ ¡éªŒï¼Œè¿™æ˜¯ @Valid æ²¡æœ‰çš„åŠŸèƒ½ã€‚ public class UserDTO { public interface Create {} public interface Update {} @NotNull(groups = Update.class, message = \u0026#34;ID is required for update\u0026#34;) private Long id; @NotNull(groups = Create.class, message = \u0026#34;Username cannot be null\u0026#34;) @Size(min = 3, message = \u0026#34;Username must be at least 3 characters long\u0026#34;) private String username; } @PostMapping(\u0026#34;/create\u0026#34;) public ResponseEntity\u0026lt;String\u0026gt; createUser(@Validated(UserDTO.Create.class) @RequestBody UserDTO userDTO) { return ResponseEntity.ok(\u0026#34;User created!\u0026#34;); } @PutMapping(\u0026#34;/update\u0026#34;) public ResponseEntity\u0026lt;String\u0026gt; updateUser(@Validated(UserDTO.Update.class) @RequestBody UserDTO userDTO) { return ResponseEntity.ok(\u0026#34;User updated!\u0026#34;); } ğŸ”¹ è¿™é‡Œ @Validated å…è®¸æŒ‡å®š ä¸åŒçš„æ ¡éªŒè§„åˆ™ç»„ï¼Œè¿™æ · createUser å’Œ updateUser å¯ä»¥ä½¿ç”¨ä¸åŒçš„è§„åˆ™ã€‚\næ€»ç»“ é€‚ç”¨èŒƒå›´\tæ³¨è§£\té€‚ç”¨æƒ…å†µ\tä½œç”¨ @RequestBody\t@Valid\tç”¨äº DTOï¼ˆå¯¹è±¡ï¼‰\tè§¦å‘ Bean Validation @RequestParamã€@PathVariableã€@RequestHeader\t@Validated\tç”¨äºåŸºæœ¬æ•°æ®ç±»å‹å’Œå•ä¸ªå‚æ•°\tè§¦å‘å‚æ•°çº§åˆ«éªŒè¯ @RequestBodyï¼ˆæ”¯æŒåˆ†ç»„ï¼‰\t@Validated\tDTOï¼ˆå¯¹è±¡ï¼‰\té¢å¤–æ”¯æŒåˆ†ç»„æ ¡éªŒ ğŸ’¡ ç®€å•æ¥è¯´ï¼š\n@Valid ç”¨äº @RequestBody è§£æçš„ Java Bean å¯¹è±¡ã€‚ @Validated ç”¨äº @RequestParamã€@PathVariableã€@RequestHeader è¿™äº› å•ä¸ªå€¼ æˆ– åŸºæœ¬ç±»å‹ã€‚ @Validated è¿˜èƒ½æ”¯æŒåˆ†ç»„æ ¡éªŒï¼Œ@Valid ä¸èƒ½ã€‚ è¿™æ ·å°±èƒ½æ¸…æ¥šåœ°çŸ¥é“ @Valid å’Œ @Validated çš„ä½¿ç”¨åŒºåˆ«äº†ï¼ğŸ˜Š\nHTTPç‹€æ…‹ç¢¼ ç”¨ä¾†è¡¨ç¤ºè«‹æ±‚å›æ‡‰å¾Œçš„é›»æ–‡ç‹€æ…‹ç‚ºä½• å¯ä»¥æ ¹æ“šé¦–å­—çš„è™Ÿç¢¼å€éš”äº”å¤§é¡ 1xxç‹€æ…‹ç¢¼ è³‡è¨Šé¡ 2xxç‹€æ…‹ç¢¼ æˆåŠŸé¡ 200 OK è«‹æ±‚æˆåŠŸ 201 Created è«‹æ±‚æˆåŠŸä¸”å·²å»ºç«‹è³‡æºï¼Œé€šå¸¸ç”¨åœ¨POSTçš„Response 202 Accepted è«‹æ±‚å·²ç¶“æ¥å—ï¼Œå°šæœªè™•ç†å®Œ 3xxç‹€æ…‹ç¢¼ é‡æ–°å°å‘é¡ 301 Moved Permanently ç¶²å€æ°¸ä¹…æ€§æ¬å®¶ï¼ŒResponse Headerä¸­çš„locationè¦æ”¾æ–°çš„url 302 found ç¶²å€æš«æ™‚æ€§æ¬å®¶ï¼ŒResponse Headerä¸­çš„locationè¦æ”¾æ–°çš„url 4xxç‹€æ…‹ç¢¼ å‰ç«¯éŒ¯èª¤é¡ 400 Bad Request å‰ç«¯è«‹æ±‚éŒ¯èª¤ï¼Œå¦‚:å‰å¾Œç«¯åƒæ•¸ä¸ä¸€è‡´ã€è«‹æ±‚çš„æ ¼å¼æœ‰èª¤ 401 Unauthorized æ²’æœ‰é€šéèº«ä»½é©—è­‰ 403 Forbidden è«‹æ±‚æ²’å¾Œç«¯æ‹’çµ• 404 Not Found ç¶²é ä¸å­˜åœ¨ï¼Œå¯èƒ½è³‡æºç§»èµ°æˆ–URLçš„è·¯å¾‘éŒ¯èª¤ 5xxç‹€æ…‹ç¢¼ å¾Œç«¯éŒ¯èª¤é¡ 500 Internal Server Error å¾Œç«¯åŸ·è¡Œç¨‹å¼ç™¼ç”ŸéŒ¯èª¤ï¼Œå¯èƒ½æœ‰bug 503 Service Unavailable ç”±æ–¼è‡¨æ™‚ç¶­è­·æˆ–æµé‡å¤ªå¤§ï¼Œå¾Œç«¯ç„¡æ³•è™•ç†è«‹æ±‚ 504 Gateway Timeout è«‹æ±‚è¶…æ™‚ ResponseEntity ç”¨æ³•:ä½œç‚ºæ–¹æ³•çš„è¿”å›é¡å‹ ç”¨é€”:è‡ªå®šç¾©Responseå›å‚³çš„ç´°ç¯€ è¦é»:Spring Booté è¨­å ±éŒ¯æ˜¯500ï¼Œé è¨­æˆåŠŸæ˜¯200 @RestController Public class MyController{ @ReqeustMapping(\u0026#34;/test\u0026#34;) public ResponseEntity\u0026lt;String\u0026gt; test(){ return ResponseEntity.status(HttpStatus.ACCEPTED) .body(\u0026#34;Accepted 202\u0026#34;); } ControllerAdvice ç”¨æ³•:åªèƒ½åŠ åœ¨classä¸Š ç”¨é€”:å°‡é€™å€‹classç”Ÿæˆbeanï¼Œä¸¦åœ¨å…§éƒ¨ä½¿ç”¨@ExceptionHandler ExceptionHandler ç”¨æ³•:åªèƒ½åŠ åœ¨æ–¹æ³•ä¸Š ç”¨é€”:catchæ–¹æ³•æ‰€å ±éŒ¯çš„Exception @RestController public class MyController{ @RequestMapping(\u0026#34;/test\u0026#34;) public ResponseEntity\u0026lt;String\u0026gt; test(){ throw new RuntimeException(\u0026#34;RuntimeException\u0026#34;); } } @ControllerAdvice public class MyExceptionHandler{ @ExceptionHandler(RuntimeException.class) public ResponseEntity\u0026lt;String\u0026gt; test(RuntimeException exception){ return ResponseEntity.status(HttpStatus.SERVICE_UAVALIABLE) .body(\u0026#34;Exception:\u0026#34; + exception.getMessage();); } } Interceptor ç”¨æ³•:å¯¦ä½œHandleInterceptor ç”¨é€”:è™•ç†é€åˆ°controllerä¹‹å‰çš„è«‹æ±‚ï¼Œå¦‚:èº«ä»½é©—è­‰ã€æ—¥èªŒè¨˜éŒ„ @Component public class MyInterceptor implements HandlerInterceptor{ @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { System.out.println(\u0026#34;è™•ç†èº«ä»½é©—è­‰\u0026#34;); response.setStatus(401); return false; } } @Configuration public class MyConfig implements WebMvcConfigurer { @Autowired private MyInterceptor myInterceptor; @Override public void addInterceptors(InterceptorRegistry registry) { registry.addInterceptor(myInterceptor).addPathPatterns(\u0026#34;/**\u0026#34;); } } ","permalink":"https://chichibonbon.github.io/blog/spring-mvc/","tags":["Java"],"title":"Spring MVCå¸¸ç”¨çš„Annotation"},{"categories":["æŠ€è¡“æœ­è¨˜"],"contents":"Spring AOP @Aspect ç”¨æ³•:éœ€èˆ‡Beanä¸€èµ·ä½¿ç”¨ï¼Œå¸¶æœ‰@Componentçš„class ç”¨é€”:åˆ‡é¢å°å‘è¨­è¨ˆï¼Œå…±åŒé‚è¼¯ç¨‹å¼ç¢¼é‡ç”¨ï¼Œå®£å‘ŠæŸclassæ˜¯åˆ‡é¢\n@Aspect @Component public class MyAspect{ //to something } Before ç”¨æ³•:åŠ åœ¨@Aspectçš„classä¹‹æ–¹æ³•ä¸Š ç”¨é€”:åœ¨æ–¹æ³•åŸ·è¡Œå‰ï¼Œè™•ç†å…±ç”¨é‚è¼¯\n@Aspect @Component public class MyAspect{ @Before(\u0026#34;excution(* com.example.demo.HpPrinter.*(..))\u0026#34;) public void before(){ System.out.println(\u0026#34;Before\u0026#34;); } } After ç”¨æ³•:åŠ åœ¨@Aspectçš„classä¹‹æ–¹æ³•ä¸Š ç”¨é€”:åœ¨æ–¹æ³•åŸ·è¡Œå¾Œï¼Œè™•ç†å…±ç”¨é‚è¼¯\n@Aspect @Component public class MyAspect{ @after(\u0026#34;excution(* com.example.demo.HpPrinter.*(..))\u0026#34;) public void after(){ System.out.println(\u0026#34;After\u0026#34;); } } Around ç”¨æ³•:åŠ åœ¨@Aspectçš„classä¹‹æ³•ä¸Š ç”¨é€”:åœ¨æ–¹æ³•åŸ·è¡Œå‰ã€å¾Œï¼Œè™•ç†å…±ç”¨é‚è¼¯\npublic class MyAspect{ @Around(\u0026#34;execution(* com.example.demo.HpPrinter.*(..))\u0026#34;) public Object around(ProceedingJoinPoint pjp) throws Throwable{ Date start = new Date(); System.out.println(\u0026#34;I\u0026#39;m before\u0026#34;); Object obj = pjp.proceed(); Date end = new Date(); System.out.println(\u0026#34;I\u0026#39;m after\u0026#34;); long time = end.getTime() - start.getTime(); System.out.println(\u0026#34;æ™‚é–“å·®:\u0026#34; + time + \u0026#34;ms\u0026#34;); return obj; } } é‡é»æ•´ç† Spring AOPçš„æ‡‰ç”¨ æ¬Šé™æ§ç®¡:Spring Security çµ±ä¸€ä¾‹å¤–è™•ç†:@ControllerAdvice Logæ—¥èªŒè¨˜éŒ„ ","permalink":"https://chichibonbon.github.io/blog/spring-aop/","tags":["Java"],"title":"Spring AOPæ¦‚å¿µ"},{"categories":["æŠ€è¡“æœ­è¨˜"],"contents":"Spring IoCæ³¨å…¥èˆ‡Beanæ¦‚å¿µ IoC æ¦‚å¿µ å°‡Objectçš„æ§åˆ¶æ¬Šäº¤çµ¦å¤–éƒ¨Springå®¹å™¨ç®¡ç† Bean è¢«Springå®¹å™¨å‰µå»ºçš„objectï¼Œå«åšbean Springä¸­çš„ç‰©ä»¶åç¨±ç‚ºBeanåå­—class nanmeçš„ç¬¬ä¸€å­—æ¯è½‰å°å¯« @Component ç”¨æ³•:åªèƒ½åŠ åœ¨classä¸Š ç”¨é€”:å°‡è©²classè®Šæˆç”±Springå®¹å™¨æ‰€ç®¡ç†çš„object @Componet public class Poodle implements dog { @Override public void bark(String message){ System.out.println(message); } } @Autowired ç”¨æ³•:åŠ åœ¨å¯¦é«”è®Šæ•¸ä¸­ ç”¨é€”:IoCæ©Ÿåˆ¶æœƒæŠŠç‰©ä»¶è‡ªå‹•ä¸Ÿå…¥å¯¦é«”è®Šæ•¸ä¸­ï¼Œå¯¦éš›å°±æ˜¯è‡ªå‹•åšäº†newä¸€å€‹ç‰©ä»¶ @Component public class master{ @Autowired private Dog poodle; public void play(){ poodle.bark(\u0026#34;I\u0026#39;m happy.\u0026#34;); } } @Qualifier ç”¨æ³•:é€šå¸¸åŠ åœ¨å¯¦é«”è®Šæ•¸ä¸Šï¼Œæœƒè·Ÿ@Autowiredä¸€èµ·ç”¨ ç”¨é€”:æŒ‡å®šè¦æˆ´å…¥çš„beançš„åå­— public class master{ @Autowired @Qualifier(\u0026#34;hachi\u0026#34;) private Dog poodle; public void perform(){ poodle.bark(\u0026#34;I\u0026#39;m hurry.\u0026#34;); } } DIä¾è³´æ³¨å…¥ å°‡Objectæ³¨å…¥åˆ°å¦ä¸€å€‹Object æŸç‰©ä»¶ä¾è³´æ–¼å¦ä¸€å€‹ç‰©ä»¶ public interface Biological{ survive(); } @Component public class Fish implements Biological{ public void suvive(){ System.out.println(\u0026#34;I\u0026#39;m alive.\u0026#34;); } } @Component public class Cat{ private Fish fish; public void catch(Fish fish){ fish.survive(); } } @Configuration ç”¨æ³•:å¯«åœ¨classä¸Šé¢ ç”¨é€”:ç”¨ä¾†è¨­å®šSpringå®¹å™¨çš„config @Configuration public class MyConfiguration{ //do something } @Bean ç”¨æ³•:å¯«åœ¨å¸¶æœ‰@Configurationçš„classä¹‹æ–¹æ³•ä¸Š ç”¨é€”:ç”¨ä¾†è¨­å®šSpringå®¹å™¨éœ€è¦çš„Beanç‰©ä»¶ @Configuration public class MyConfiguration{ @Bean(\u0026#34;connectSetUp\u0026#34;) public Connection conn(){ return new Connection(); } } @PostConstruct ç”¨æ³•:å¯«åœ¨å¸¶æœ‰@Componentçš„Classä¸­æˆ–æ˜¯Beançš„æ–¹æ³•ä¸Šé¢ ç”¨é€”:è¨­å®šBeanä¸­çš„å¯¦é«”è®Šæ•¸çš„åˆå§‹å€¼ è¦é»1:1.æ–¹æ³•è¦æ˜¯public 2.æ–¹æ³•çš„å›å‚³è¦æ˜¯void 3.æ–¹æ³•åæ²’æœ‰ç¡¬æ€§è¦å®š 4.æ–¹æ³•æ²’æœ‰å‚³åƒ è¦é»2:æ“‡ä¸€ä½¿ç”¨afterProperitiesSetæˆ–@PostConstruct @Component public class MyBean{ private int initValue; @PostConstruct public void setUp{ initValue = 5; } public int caculate(){ initValue--; System.out.println(\u0026#34;ç•¶å‰å€¼:\u0026#34; + initValue); return initValue; } } afterProperitiesSet ç”¨æ³•:å¯¦ä½œInitializingBeançš„æ–¹æ³•afterProperitiesSet ç”¨é€”:åˆå§‹åŒ–Beanä¸­çš„å¯¦é«”è®Šæ•¸ è¦é»:æ“‡ä¸€ä½¿ç”¨afterProperitiesSetæˆ–@PostConstruct @Component public class MyBean implements InitializingBean{ private int initiValue; @Override public void afterProperitiesSet throws Exception(){ initiValue = 5; System.out.println(\u0026#34;ç•¶å‰å€¼:\u0026#34; + initValue); } public int caculate(){ initValue--; System.out.println(\u0026#34;ç•¶å‰å€¼:\u0026#34; + initValue); return initValue; } } @RestController ç”¨æ³•:åŠ åœ¨Classä¸Šé¢ ç”¨é€”:ä½œç‚ºæ§åˆ¶å™¨ä¾†è½‰é€å¾Œç«¯è·¯ç”± @RequestMapping ç”¨æ³•:åŠ åœ¨æ–¹æ³•ä¸Šé¢ ç”¨é€”:ä½œç‚ºæ§åˆ¶å™¨ä¸­çš„å„å€‹ä¸åŒè·¯å¾‘ @RestController public class MyController{ @RequestMapping(\u0026#34;/test\u0026#34;) public String test(){ System.out.println(\u0026#34;Hello World!!\u0026#34;); } } Beançš„ç”Ÿå‘½é€±æœŸ Beanå‰µå»ºç”Ÿæˆ \u0026ndash;\u0026gt; Beanåˆå§‹åŒ– \u0026ndash;\u0026gt; Beanä¾è³´æ³¨å…¥(DI) Beanå‰µå»ºæ™‚ï¼Œè‹¥æœ‰å…¶ä»–ä¾è³´æ³¨å…¥çš„Beanæ²’æœ‰å»ºç«‹ã€åˆå§‹åŒ–ï¼Œæœƒå„ªå…ˆå›å»è™•ç†ç”ŸæˆBean(å‰µå»º+åˆå§‹åŒ–) è‹¥Spring Bootæœ‰ä»»ä¸€Beanå»ºç«‹å¤±æ•—ï¼Œæœƒä½¿ç¨‹å¼å ±éŒ¯ ä¸è¦å¯«å‡ºå¾ªç’°ä¾è³´çš„ç¨‹å¼: Aä¾è³´B,Bä¾è³´A Spring Bootè¨­å®šæª” ç”¨æ³•:ä½¿ç”¨propertiesèªæ³•(key=value) ç”¨é€”:è¨­å®šSpring Bootçš„è¨­å®šæª” application.properties dbConnection=127.0.0.1:1733 dbUser.name=Jason dbUser.password=P@ssW0rd @value ç”¨æ³•:åŠ åœ¨Beanä¸­çš„è®Šæ•¸æˆ–åŠ åœ¨æœ‰@Configurationçš„classä¸­ä¹‹è®Šæ•¸ ç”¨é€”:è®€å–Spring Bootçš„è¨­å®šæª” è¦é»:1.æ ¼å¼:${key} 2.è¨­å®šæª”ä¸­çš„å€¼è¦èˆ‡Javaè®Šæ•¸å‹æ…‹ä¸€è‡´ 3.å¯è¨­å®šé è¨­å€¼:${key:default} @Configuration public class MyConfiguration{ @Value(${dbConnection}) private String dbConnection; @Bean(\u0026#34;conn\u0026#34;) public Connection conn(){ return new Connection } } @Component public class MyBean{ @Value(${dbUser.name:root}) private String name; } propertiesèªæ³• V.S ymlèªæ³• propertiesèªæ³• gender=male my.name=Jason my.phone=0912345678 # This is comment ymlèªæ³• gender=male my: name: Jason phone: 0912345678 # This is comment ","permalink":"https://chichibonbon.github.io/blog/spring-ioc/","tags":["Java"],"title":"Spring IoCå¸¸ç”¨çš„Annotation"},{"categories":["å­¸ç¿’æŠ€å·§"],"contents":"Markdownç”¨æ³• æ–‡å­—ä½¿ç”¨: æ™®é€šæ–‡å­— ç›´æ¥æ‰“\nä¸€ç´šæ¨™é¡Œ äºŒç´šæ¨™é¡Œ ä¸‰ç´šæ¨™é¡Œ å››ç´šæ¨™é¡Œ äº”ç´šæ¨™é¡Œ å…­ç´šæ¨™é¡Œ æˆ‘æ˜¯é‚¦å°¼ï¼Œæˆ‘å–œæ­¡å…”å­\nç´è¥¿è˜­å¤§ç™½å…” æ¾³æ´²å¤§é»‘å…” é“å¥‡å…” 2. åŒ—é“æµ·é›ªå…” ç´…è‰² *è—è‰² ç™½è‰² *é»‘è‰² public static void manin(String){ System.out.println\nGoogle My github\nMy github\næˆ‘æ˜¯ä¸€éš»é‚¦å°¼ Hello World\npublic static void main(String args[]){ System.out.print(\u0026#34;Hello World\u0026#34;); } Tables Are Cool col 3 is right-aligned $1600 col 2 is centered $12 zebra stripes are neat $1 Owl bet you\u0026#39;ll lose this staring contest ğŸ¦‰ pic.twitter.com/eJh4f2zncC\n\u0026mdash; San Diego Zoo Wildlife Alliance (@sandiegozoo) October 26, 2021 View this post on Instagram ","permalink":"https://chichibonbon.github.io/blog/markdownintro/","tags":["Markdown"],"title":"é‚¦å°¼çš„ç¬¬ä¸€ç¯‡æ–‡ç« ä¸Šç·šå•¦~Markdownç”¨æ³•"},{"categories":["æŠ€è¡“æœ­è¨˜"],"contents":"å¦‚ä½•ä½¿ç”¨Docker Dockerçš„å®‰è£ æŸ¥çœ‹ç•¶å‰Linuxç‰ˆæœ¬ cat /etc/os-release æ¸…é™¤CLIçš„ç•«é¢ clear æ›´æ–°ç³»çµ±å¥—ä»¶ç´¢å¼•ä¸¦å®‰è£å¿…è¦çš„ä¾è³´é … sudo apt update sudo apt install apt-transport-https ca-certificates curl gnupg æ·»åŠ Dockerçš„å®˜æ–¹GPGå¯†é‘° curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker.gpg å°‡Dockerçš„å®˜æ–¹å­˜å„²åº«æ·»åŠ åˆ°ç³»çµ± echo \u0026#34;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu noble stable\u0026#34; | sudo tee /etc/apt/sources.list.d/docker.list \u0026gt; /dev/null æ›´æ–°å¥—ä»¶ç´¢å¼•ä¸¦å®‰è£Docker sudo apt update sudo apt install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin é©—è­‰Dockeræ˜¯å¦å®‰è£æˆåŠŸ sudo systemctl is-active docker æŸ¥çœ‹ç•¶å‰dockerç‰ˆæœ¬ sudo docker --version å•Ÿå‹•ç‰¹å®šçš„æœå‹™ sudo service docker start æŸ¥çœ‹æœ¬åœ°docker images sudo docker images æŠ“å–docker image åå«hello-world sudo docker pull hello-world å†æ¬¡æŸ¥çœ‹æœ¬åœ°docker images sudo docker images å•Ÿå‹•dokcer image åå«hello-world sudo docker run hello-world é—œæ‰docker engine sudo service docker stop å…è¨±érootç”¨æˆ¶é‹è¡ŒDockerå‘½ä»¤ sudo usermod -aG docker ${USER} ","permalink":"https://chichibonbon.github.io/blog/docker-start/","tags":["Docker"],"title":"dockerå­¸ç¿’è¨˜"}]